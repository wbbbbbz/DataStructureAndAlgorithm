# 第 9 章 哈密尔顿回路和状态压缩

- 回路和路径时分隔开的
  - 路径的起点与终点时不一样的，回路的起点和终点时一样的

- 哈密尔顿回路和路径算法基本一样
  - 回溯优化

- 哈密尔顿回路
  - 从一个点出发，沿着边行走，经过每个顶点恰好一次，之后回到出发点
  - 判断是否存在，并且求出回路
  - 数学上找不到充分必要条件
- 旅行推销员问题(Travelling Salesman Problem, TSP)
  - 最短的带权图，完全图的哈密尔顿回路问题

- NP难问题
- 暴力求解
  - 生成全排列，然后验证是否哈密尔顿问题
  - 但是使用回溯会比全排列性能稍微好一点，因为全排列中有一些解根本不可能
  - 尝试了0->1->2，发现不行的话要回溯到0->1，然后再测试别的，这个时候需要维护visited！
  - 只从一个顶点开始回溯就行，因为如果从一个顶点开始无解，那么哈密尔顿回路一定不存在
  - O(n!)最坏情况
  - 递归返回是否存在哈密尔顿回路
    - 最终判断时如果回到了根节点并且全部访问过了，那么就是true
  - 小优化，最终判断所有节点访问过了没有，可以传入left参数代表还剩多少个顶点没有访问
    - 该参数随着visited的更新一起更新
    - 如果使用值的传递，那么不需要left++
    - left--处可以直接判断left==0？

- 哈密尔顿路径和回路不一样，因为起始点非常重要。
  - 需要传入一个起始点参数
  - 终止点可以和起始点不一样！
